{"componentChunkName":"component---src-templates-blog-post-template-tsx","path":"/blog/awsVpcStudy/","result":{"data":{"site":{"siteMetadata":{"title":"Azuma Blog"}},"markdownRemark":{"id":"dce01074-4616-5213-9033-ce47289066c1","excerpt":"概要 VPC: Amazon Virtual Private Cloud プライベートなネットワークを AWS 内に作成できる。 インターネットゲートウェイ( IGW ) で、インターネットに接続できる。 仮想プライベートゲートウェイ( VGW ) で、Direct Connect や VPN…","html":"<h2>概要</h2>\n<p>VPC: Amazon Virtual Private Cloud</p>\n<p>プライベートなネットワークを AWS 内に作成できる。</p>\n<p>インターネットゲートウェイ( IGW ) で、インターネットに接続できる。</p>\n<p>仮想プライベートゲートウェイ( VGW ) で、Direct Connect や VPN 経由でインターネットに出ることなく各拠点のネットワークに接続することが可能。</p>\n<p>ネットワーク空間を構築する際は、可能な限り大きなサイズ(/16)で作成したほうが良い。</p>\n<p>確保した空間が小さく、IP アドレスが不足した場合、あとから拡張するのは困難。</p>\n<h2>IP アドレス（CIDR ブロック）</h2>\n<p>IP アドレスは、クラス A(10.0.0.0~10.255.255.255), クラス B(172.16.0.0~172.31.255.255), クラス C(192.168.0.0~192.168.255.255)が使える。</p>\n<p>ただし、クラス A でも /8 で CIDR ブロックを取ることができず、/16 でなければならない。</p>\n<h2>サブネット</h2>\n<p>サブネットは、VPC 内部に作るアドレスレンジである。</p>\n<p>VPC では、/16 ~/28 まで設定できる。（IP アドレス数は 16~65536 個）</p>\n<p>サブネット作成時にアベイラビリティゾーンを指定するが、作成後は変更できない。</p>\n<p>サブネットごとにルートテーブルとネットワーク ACL を 1 つだけ指定する。</p>\n<p>1 つの VPC で作れるサブネット数は 200 個。(リクエストすることで拡張できる)</p>\n<p>サブネットの最初の 4 つと最後の 1 つのアドレスは予約されていて使用できない。(24 ビットマスクのサブネットだと使えないのは「0,1,2,3,255」の 5 つ)</p>\n<p>必要以上にサブネットで分けるとアドレスの消費につながる。(28 ビットマスクで 16 個の IP が割り振られるが、実際は 11 個しか使えない)</p>\n<p>サービスの中には IP アドレスの確保が必要な物がある。(ELB の場合は IP アドレスが 8 個)</p>","frontmatter":{"title":"VPCのまとめ","date":"September 25, 2020","description":"Amazon Virtual Private Cloud の勉強も兼ねてまとめてみました."}}},"pageContext":{"slug":"/blog/awsVpcStudy/"}}}